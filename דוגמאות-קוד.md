# דוגמאות קוד מוכנות לשימוש

## תוכן עניינים
1. [קומפוננטות UI בסיסיות](#ui-components)
2. [Custom Hooks](#custom-hooks)
3. [Utility Functions](#utility-functions)
4. [API Routes](#api-routes)
5. [קומפוננטות טפסים](#form-components)

---

## 1. קומפוננטות UI בסיסיות {#ui-components}

### Input Component

```typescript
// src/components/ui/Input.tsx

import { forwardRef, InputHTMLAttributes } from 'react'
import { clsx } from 'clsx'

export interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  label?: string
  error?: string
  helpText?: string
  icon?: React.ReactNode
}

export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, helpText, icon, className, ...props }, ref) => {
    return (
      <div className="w-full">
        {label && (
          <label className="block text-sm font-medium text-gray-700 mb-2">
            {label}
            {props.required && <span className="text-red-500 mr-1">*</span>}
          </label>
        )}
        
        <div className="relative">
          {icon && (
            <div className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">
              {icon}
            </div>
          )}
          
          <input
            ref={ref}
            className={clsx(
              'w-full px-3 py-2 border rounded-md transition-colors',
              'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
              'disabled:bg-gray-100 disabled:cursor-not-allowed',
              error
                ? 'border-red-500 focus:ring-red-500'
                : 'border-gray-300',
              icon && 'pr-10',
              className
            )}
            {...props}
          />
        </div>
        
        {error && (
          <p className="mt-1 text-sm text-red-600">{error}</p>
        )}
        
        {helpText && !error && (
          <p className="mt-1 text-sm text-gray-500">{helpText}</p>
        )}
      </div>
    )
  }
)

Input.displayName = 'Input'
```

### Button Component

```typescript
// src/components/ui/Button.tsx

import { ButtonHTMLAttributes, forwardRef } from 'react'
import { clsx } from 'clsx'

export interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger'
  size?: 'sm' | 'md' | 'lg'
  isLoading?: boolean
  icon?: React.ReactNode
}

export const Button = forwardRef<HTMLButtonElement, ButtonProps>(
  (
    {
      children,
      variant = 'primary',
      size = 'md',
      isLoading = false,
      icon,
      className,
      disabled,
      ...props
    },
    ref
  ) => {
    const baseStyles = 'inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed'
    
    const variants = {
      primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
      secondary: 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500',
      outline: 'border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500',
      ghost: 'text-blue-600 hover:bg-blue-50 focus:ring-blue-500',
      danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
    }
    
    const sizes = {
      sm: 'px-3 py-1.5 text-sm',
      md: 'px-4 py-2 text-base',
      lg: 'px-6 py-3 text-lg',
    }
    
    return (
      <button
        ref={ref}
        disabled={disabled || isLoading}
        className={clsx(
          baseStyles,
          variants[variant],
          sizes[size],
          className
        )}
        {...props}
      >
        {isLoading && (
          <svg
            className="animate-spin -ml-1 ml-3 h-5 w-5 text-current"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              className="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              strokeWidth="4"
            />
            <path
              className="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            />
          </svg>
        )}
        
        {icon && !isLoading && <span className="ml-2">{icon}</span>}
        
        {children}
      </button>
    )
  }
)

Button.displayName = 'Button'
```

### Card Component

```typescript
// src/components/ui/Card.tsx

import { HTMLAttributes, forwardRef } from 'react'
import { clsx } from 'clsx'

export interface CardProps extends HTMLAttributes<HTMLDivElement> {
  variant?: 'default' | 'bordered' | 'elevated'
}

export const Card = forwardRef<HTMLDivElement, CardProps>(
  ({ children, variant = 'default', className, ...props }, ref) => {
    const variants = {
      default: 'bg-white shadow-sm',
      bordered: 'bg-white border-2 border-gray-200',
      elevated: 'bg-white shadow-lg',
    }
    
    return (
      <div
        ref={ref}
        className={clsx(
          'rounded-lg p-6',
          variants[variant],
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }
)

Card.displayName = 'Card'

export const CardHeader = ({ children, className, ...props }: HTMLAttributes<HTMLDivElement>) => (
  <div className={clsx('mb-4', className)} {...props}>
    {children}
  </div>
)

export const CardTitle = ({ children, className, ...props }: HTMLAttributes<HTMLHeadingElement>) => (
  <h3 className={clsx('text-xl font-bold', className)} {...props}>
    {children}
  </h3>
)

export const CardContent = ({ children, className, ...props }: HTMLAttributes<HTMLDivElement>) => (
  <div className={className} {...props}>
    {children}
  </div>
)

export const CardFooter = ({ children, className, ...props }: HTMLAttributes<HTMLDivElement>) => (
  <div className={clsx('mt-4 pt-4 border-t', className)} {...props}>
    {children}
  </div>
)
```

### Alert Component

```typescript
// src/components/ui/Alert.tsx

import { HTMLAttributes } from 'react'
import { clsx } from 'clsx'
import { AlertCircle, CheckCircle, Info, XCircle } from 'lucide-react'

export interface AlertProps extends HTMLAttributes<HTMLDivElement> {
  variant?: 'info' | 'success' | 'warning' | 'error'
  title?: string
  onClose?: () => void
}

export function Alert({
  children,
  variant = 'info',
  title,
  onClose,
  className,
  ...props
}: AlertProps) {
  const variants = {
    info: {
      container: 'bg-blue-50 border-blue-200 text-blue-800',
      icon: <Info className="h-5 w-5 text-blue-600" />,
    },
    success: {
      container: 'bg-green-50 border-green-200 text-green-800',
      icon: <CheckCircle className="h-5 w-5 text-green-600" />,
    },
    warning: {
      container: 'bg-yellow-50 border-yellow-200 text-yellow-800',
      icon: <AlertCircle className="h-5 w-5 text-yellow-600" />,
    },
    error: {
      container: 'bg-red-50 border-red-200 text-red-800',
      icon: <XCircle className="h-5 w-5 text-red-600" />,
    },
  }
  
  const { container, icon } = variants[variant]
  
  return (
    <div
      className={clsx(
        'border rounded-lg p-4',
        container,
        className
      )}
      role="alert"
      {...props}
    >
      <div className="flex items-start">
        <div className="flex-shrink-0">{icon}</div>
        
        <div className="mr-3 flex-1">
          {title && (
            <h3 className="text-sm font-medium mb-1">{title}</h3>
          )}
          <div className="text-sm">{children}</div>
        </div>
        
        {onClose && (
          <button
            type="button"
            onClick={onClose}
            className="flex-shrink-0 text-current hover:opacity-75"
          >
            <XCircle className="h-5 w-5" />
          </button>
        )}
      </div>
    </div>
  )
}
```

### Progress Bar Component

```typescript
// src/components/ui/ProgressBar.tsx

import { HTMLAttributes } from 'react'
import { clsx } from 'clsx'

export interface ProgressBarProps extends HTMLAttributes<HTMLDivElement> {
  value: number // 0-100
  max?: number
  showLabel?: boolean
  size?: 'sm' | 'md' | 'lg'
  variant?: 'default' | 'success' | 'warning' | 'error'
}

export function ProgressBar({
  value,
  max = 100,
  showLabel = false,
  size = 'md',
  variant = 'default',
  className,
  ...props
}: ProgressBarProps) {
  const percentage = Math.min(Math.max((value / max) * 100, 0), 100)
  
  const sizes = {
    sm: 'h-2',
    md: 'h-4',
    lg: 'h-6',
  }
  
  const variants = {
    default: 'bg-blue-600',
    success: 'bg-green-600',
    warning: 'bg-yellow-600',
    error: 'bg-red-600',
  }
  
  return (
    <div className={clsx('w-full', className)} {...props}>
      <div className={clsx('bg-gray-200 rounded-full overflow-hidden', sizes[size])}>
        <div
          className={clsx(
            'h-full transition-all duration-300 ease-in-out',
            variants[variant]
          )}
          style={{ width: `${percentage}%` }}
          role="progressbar"
          aria-valuenow={value}
          aria-valuemin={0}
          aria-valuemax={max}
        />
      </div>
      
      {showLabel && (
        <div className="text-sm text-gray-600 text-center mt-2">
          {percentage.toFixed(0)}%
        </div>
      )}
    </div>
  )
}
```

---

## 2. Custom Hooks {#custom-hooks}

### useLocalStorage Hook

```typescript
// src/hooks/useLocalStorage.ts

import { useState, useEffect } from 'react'

export function useLocalStorage<T>(
  key: string,
  initialValue: T
): [T, (value: T | ((val: T) => T)) => void] {
  // קריאת ערך מ-localStorage בטעינה ראשונה
  const [storedValue, setStoredValue] = useState<T>(() => {
    if (typeof window === 'undefined') {
      return initialValue
    }
    
    try {
      const item = window.localStorage.getItem(key)
      return item ? JSON.parse(item) : initialValue
    } catch (error) {
      console.error(`Error loading ${key} from localStorage:`, error)
      return initialValue
    }
  })
  
  // שמירת ערך ל-localStorage
  const setValue = (value: T | ((val: T) => T)) => {
    try {
      const valueToStore =
        value instanceof Function ? value(storedValue) : value
      
      setStoredValue(valueToStore)
      
      if (typeof window !== 'undefined') {
        window.localStorage.setItem(key, JSON.stringify(valueToStore))
      }
    } catch (error) {
      console.error(`Error saving ${key} to localStorage:`, error)
    }
  }
  
  return [storedValue, setValue]
}
```

### useDebounce Hook

```typescript
// src/hooks/useDebounce.ts

import { useEffect, useState } from 'react'

export function useDebounce<T>(value: T, delay: number = 500): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value)
  
  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value)
    }, delay)
    
    return () => {
      clearTimeout(handler)
    }
  }, [value, delay])
  
  return debouncedValue
}
```

### useAutoSave Hook

```typescript
// src/hooks/useAutoSave.ts

import { useEffect, useRef } from 'react'
import { useDebounce } from './useDebounce'

interface UseAutoSaveOptions<T> {
  data: T
  onSave: (data: T) => Promise<void>
  delay?: number
  enabled?: boolean
}

export function useAutoSave<T>({
  data,
  onSave,
  delay = 2000,
  enabled = true,
}: UseAutoSaveOptions<T>) {
  const debouncedData = useDebounce(data, delay)
  const isFirstRender = useRef(true)
  const isSaving = useRef(false)
  
  useEffect(() => {
    // דלג על render הראשון
    if (isFirstRender.current) {
      isFirstRender.current = false
      return
    }
    
    // דלג אם לא מופעל
    if (!enabled || isSaving.current) {
      return
    }
    
    const saveData = async () => {
      isSaving.current = true
      try {
        await onSave(debouncedData)
        console.log('נתונים נשמרו אוטומטית')
      } catch (error) {
        console.error('שגיאה בשמירה אוטומטית:', error)
      } finally {
        isSaving.current = false
      }
    }
    
    saveData()
  }, [debouncedData, enabled])
}
```

### useMultiStepForm Hook

```typescript
// src/hooks/useMultiStepForm.ts

import { useState } from 'react'

export function useMultiStepForm<T>(steps: number, initialData: T) {
  const [currentStep, setCurrentStep] = useState(1)
  const [formData, setFormData] = useState<T>(initialData)
  
  const nextStep = () => {
    setCurrentStep((prev) => Math.min(prev + 1, steps))
  }
  
  const prevStep = () => {
    setCurrentStep((prev) => Math.max(prev - 1, 1))
  }
  
  const goToStep = (step: number) => {
    if (step >= 1 && step <= steps) {
      setCurrentStep(step)
    }
  }
  
  const updateData = (data: Partial<T>) => {
    setFormData((prev) => ({ ...prev, ...data }))
  }
  
  const resetForm = () => {
    setCurrentStep(1)
    setFormData(initialData)
  }
  
  const isFirstStep = currentStep === 1
  const isLastStep = currentStep === steps
  const progress = (currentStep / steps) * 100
  
  return {
    currentStep,
    formData,
    nextStep,
    prevStep,
    goToStep,
    updateData,
    resetForm,
    isFirstStep,
    isLastStep,
    progress,
  }
}
```

---

## 3. Utility Functions {#utility-functions}

### Date Utils

```typescript
// src/lib/utils/dates.ts

import { format, parse, isValid } from 'date-fns'
import { he } from 'date-fns/locale'

/**
 * המרת תאריך מ-Date ל-DD/MM/YYYY
 */
export function formatDateToString(date: Date): string {
  return format(date, 'dd/MM/yyyy')
}

/**
 * המרת תאריך מ-DD/MM/YYYY ל-Date
 */
export function parseDateFromString(dateString: string): Date | null {
  try {
    const parsed = parse(dateString, 'dd/MM/yyyy', new Date())
    return isValid(parsed) ? parsed : null
  } catch {
    return null
  }
}

/**
 * בדיקה אם תאריך הוא בעבר
 */
export function isDateInPast(date: Date): boolean {
  return date < new Date()
}

/**
 * פורמט תאריך בעברית
 */
export function formatDateHebrew(date: Date): string {
  return format(date, 'dd MMMM yyyy', { locale: he })
}

/**
 * חישוב גיל
 */
export function calculateAge(birthDate: Date): number {
  const today = new Date()
  let age = today.getFullYear() - birthDate.getFullYear()
  const monthDiff = today.getMonth() - birthDate.getMonth()
  
  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
    age--
  }
  
  return age
}
```

### String Utils

```typescript
// src/lib/utils/strings.ts

/**
 * הסרת רווחים מיותרים
 */
export function sanitizeString(str: string): string {
  return str.trim().replace(/\s+/g, ' ')
}

/**
 * האות הראשונה גדולה
 */
export function capitalize(str: string): string {
  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()
}

/**
 * כל מילה מתחילה באות גדולה
 */
export function titleCase(str: string): string {
  return str
    .toLowerCase()
    .split(' ')
    .map(word => capitalize(word))
    .join(' ')
}

/**
 * קיצור טקסט
 */
export function truncate(str: string, length: number): string {
  if (str.length <= length) return str
  return str.slice(0, length) + '...'
}

/**
 * הסרת תווים מיוחדים (השארת עברית, אנגלית, מספרים ורווחים)
 */
export function removeSpecialChars(str: string): string {
  return str.replace(/[^\u0590-\u05FF\w\s-]/g, '')
}
```

### Number Utils

```typescript
// src/lib/utils/numbers.ts

/**
 * פורמט מספר עם פסיקים
 */
export function formatNumber(num: number): string {
  return new Intl.NumberFormat('he-IL').format(num)
}

/**
 * פורמט מטבע (שקלים)
 */
export function formatCurrency(amount: number): string {
  return new Intl.NumberFormat('he-IL', {
    style: 'currency',
    currency: 'ILS',
  }).format(amount)
}

/**
 * פורמט אחוזים
 */
export function formatPercentage(value: number, decimals: number = 2): string {
  return `${value.toFixed(decimals)}%`
}

/**
 * עיגול למספר עשרוני
 */
export function roundTo(num: number, decimals: number = 2): number {
  return Math.round(num * Math.pow(10, decimals)) / Math.pow(10, decimals)
}

/**
 * בדיקה אם מספר הוא בין min ל-max
 */
export function isInRange(num: number, min: number, max: number): boolean {
  return num >= min && num <= max
}
```

### File Utils

```typescript
// src/lib/utils/files.ts

/**
 * המרת גודל קובץ לקריא
 */
export function formatFileSize(bytes: number): string {
  if (bytes === 0) return '0 Bytes'
  
  const k = 1024
  const sizes = ['Bytes', 'KB', 'MB', 'GB']
  const i = Math.floor(Math.log(bytes) / Math.log(k))
  
  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]
}

/**
 * בדיקת סוג קובץ מותר
 */
export function isAllowedFileType(
  file: File,
  allowedTypes: string[]
): boolean {
  return allowedTypes.includes(file.type)
}

/**
 * בדיקת גודל קובץ מקסימלי
 */
export function isFileSizeValid(file: File, maxSizeMB: number): boolean {
  const maxSizeBytes = maxSizeMB * 1024 * 1024
  return file.size <= maxSizeBytes
}

/**
 * קבלת סיומת קובץ
 */
export function getFileExtension(filename: string): string {
  return filename.slice(((filename.lastIndexOf('.') - 1) >>> 0) + 2)
}

/**
 * המרת File ל-Base64
 */
export function fileToBase64(file: File): Promise<string> {
  return new Promise((resolve, reject) => {
    const reader = new FileReader()
    reader.readAsDataURL(file)
    reader.onload = () => resolve(reader.result as string)
    reader.onerror = error => reject(error)
  })
}
```

---

## 4. API Routes {#api-routes}

### Create Request

```typescript
// src/app/api/requests/route.ts

import { NextRequest, NextResponse } from 'next/server'
import { getServerSession } from 'next-auth'
import { prisma } from '@/lib/prisma'
import { tzoYerushaSchema } from '@/lib/validation/schemas'

export async function POST(request: NextRequest) {
  try {
    // בדיקת authentication
    const session = await getServerSession()
    if (!session?.user?.email) {
      return NextResponse.json(
        { error: 'לא מורשה' },
        { status: 401 }
      )
    }
    
    // קבלת נתונים מהבקשה
    const body = await request.json()
    
    // ולידציה
    const validatedData = tzoYerushaSchema.parse(body)
    
    // חיפוש המשתמש
    const user = await prisma.user.findUnique({
      where: { email: session.user.email },
    })
    
    if (!user) {
      return NextResponse.json(
        { error: 'משתמש לא נמצא' },
        { status: 404 }
      )
    }
    
    // יצירת הבקשה
    const newRequest = await prisma.request.create({
      data: {
        userId: user.id,
        type: 'TZO_YERUSHA',
        status: 'DRAFT',
        deceasedName: validatedData.deceased.name,
        deceasedId: validatedData.deceased.id,
        deceasedAddress: validatedData.deceased.lastAddress,
        deathDate: new Date(validatedData.deceased.deathDate),
        deathPlace: validatedData.deceased.deathPlace,
        maritalStatus: validatedData.deceased.maritalStatus,
        data: validatedData as any,
      },
    })
    
    return NextResponse.json(newRequest, { status: 201 })
  } catch (error) {
    console.error('Error creating request:', error)
    
    if (error instanceof Error) {
      return NextResponse.json(
        { error: error.message },
        { status: 400 }
      )
    }
    
    return NextResponse.json(
      { error: 'שגיאה בשרת' },
      { status: 500 }
    )
  }
}

export async function GET(request: NextRequest) {
  try {
    const session = await getServerSession()
    if (!session?.user?.email) {
      return NextResponse.json(
        { error: 'לא מורשה' },
        { status: 401 }
      )
    }
    
    const user = await prisma.user.findUnique({
      where: { email: session.user.email },
    })
    
    if (!user) {
      return NextResponse.json(
        { error: 'משתמש לא נמצא' },
        { status: 404 }
      )
    }
    
    const requests = await prisma.request.findMany({
      where: { userId: user.id },
      orderBy: { updatedAt: 'desc' },
      include: {
        documents: true,
      },
    })
    
    return NextResponse.json(requests)
  } catch (error) {
    console.error('Error fetching requests:', error)
    return NextResponse.json(
      { error: 'שגיאה בשרת' },
      { status: 500 }
    )
  }
}
```

### Upload Document

```typescript
// src/app/api/documents/upload/route.ts

import { NextRequest, NextResponse } from 'next/server'
import { getServerSession } from 'next-auth'
import { put } from '@vercel/blob'
import { prisma } from '@/lib/prisma'

export async function POST(request: NextRequest) {
  try {
    const session = await getServerSession()
    if (!session?.user?.email) {
      return NextResponse.json(
        { error: 'לא מורשה' },
        { status: 401 }
      )
    }
    
    const formData = await request.formData()
    const file = formData.get('file') as File
    const requestId = formData.get('requestId') as string
    const documentType = formData.get('type') as string
    
    if (!file) {
      return NextResponse.json(
        { error: 'לא נבחר קובץ' },
        { status: 400 }
      )
    }
    
    // בדיקת גודל קובץ (max 10MB)
    if (file.size > 10 * 1024 * 1024) {
      return NextResponse.json(
        { error: 'הקובץ גדול מדי (מקסימום 10MB)' },
        { status: 400 }
      )
    }
    
    // בדיקת סוג קובץ
    const allowedTypes = [
      'image/jpeg',
      'image/png',
      'image/jpg',
      'application/pdf',
    ]
    
    if (!allowedTypes.includes(file.type)) {
      return NextResponse.json(
        { error: 'סוג קובץ לא נתמך' },
        { status: 400 }
      )
    }
    
    // העלאה ל-Vercel Blob (או S3/R2)
    const blob = await put(file.name, file, {
      access: 'public',
    })
    
    // שמירה במסד נתונים
    const document = await prisma.document.create({
      data: {
        requestId,
        type: documentType,
        fileName: file.name,
        fileUrl: blob.url,
        fileSize: file.size,
        mimeType: file.type,
      },
    })
    
    return NextResponse.json(document, { status: 201 })
  } catch (error) {
    console.error('Error uploading document:', error)
    return NextResponse.json(
      { error: 'שגיאה בהעלאת הקובץ' },
      { status: 500 }
    )
  }
}
```

---

## 5. קומפוננטות טפסים {#form-components}

### Israeli ID Input

```typescript
// src/components/forms/IsraeliIDInput.tsx

'use client'

import { forwardRef, useState } from 'react'
import { Input, InputProps } from '@/components/ui/Input'
import { validateIsraeliID, formatIsraeliID } from '@/lib/validation/israeli-id'

interface IsraeliIDInputProps extends Omit<InputProps, 'type'> {
  onValidationChange?: (isValid: boolean) => void
}

export const IsraeliIDInput = forwardRef<HTMLInputElement, IsraeliIDInputProps>(
  ({ onValidationChange, ...props }, ref) => {
    const [localError, setLocalError] = useState<string>()
    
    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      const value = e.target.value.replace(/\D/g, '') // רק ספרות
      
      if (value.length > 9) {
        return // לא מאפשר יותר מ-9 ספרות
      }
      
      // עדכון הערך
      e.target.value = value
      props.onChange?.(e)
      
      // ולידציה
      if (value.length === 9) {
        const isValid = validateIsraeliID(value)
        setLocalError(isValid ? undefined : 'תעודת זהות לא תקינה')
        onValidationChange?.(isValid)
      } else {
        setLocalError(undefined)
        onValidationChange?.(false)
      }
    }
    
    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {
      const value = e.target.value
      
      if (value.length === 9) {
        e.target.value = formatIsraeliID(value)
      }
      
      props.onBlur?.(e)
    }
    
    return (
      <Input
        {...props}
        ref={ref}
        type="text"
        inputMode="numeric"
        maxLength={9}
        placeholder="9 ספרות"
        error={localError || props.error}
        onChange={handleChange}
        onBlur={handleBlur}
      />
    )
  }
)

IsraeliIDInput.displayName = 'IsraeliIDInput'
```

### Date Input (Hebrew)

```typescript
// src/components/forms/HebrewDateInput.tsx

'use client'

import { forwardRef, useState } from 'react'
import { Input, InputProps } from '@/components/ui/Input'
import { parseDateFromString, formatDateToString } from '@/lib/utils/dates'

interface HebrewDateInputProps extends Omit<InputProps, 'type'> {
  onDateChange?: (date: Date | null) => void
}

export const HebrewDateInput = forwardRef<HTMLInputElement, HebrewDateInputProps>(
  ({ onDateChange, ...props }, ref) => {
    const [localError, setLocalError] = useState<string>()
    
    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      let value = e.target.value.replace(/[^\d/]/g, '') // רק ספרות ו-/
      
      // הוספת / אוטומטית
      if (value.length === 2 || value.length === 5) {
        if (!value.endsWith('/')) {
          value += '/'
        }
      }
      
      if (value.length > 10) {
        return
      }
      
      e.target.value = value
      props.onChange?.(e)
      
      // ולידציה
      if (value.length === 10) {
        const date = parseDateFromString(value)
        
        if (!date) {
          setLocalError('תאריך לא תקין')
          onDateChange?.(null)
        } else if (date >= new Date()) {
          setLocalError('התאריך חייב להיות בעבר')
          onDateChange?.(null)
        } else {
          setLocalError(undefined)
          onDateChange?.(date)
        }
      } else {
        setLocalError(undefined)
        onDateChange?.(null)
      }
    }
    
    return (
      <Input
        {...props}
        ref={ref}
        type="text"
        inputMode="numeric"
        maxLength={10}
        placeholder="DD/MM/YYYY"
        error={localError || props.error}
        onChange={handleChange}
        dir="ltr"
      />
    )
  }
)

HebrewDateInput.displayName = 'HebrewDateInput'
```

---

זהו לעת עתה! האם תרצה שאמשיך עם:
1. דוגמאות קוד נוספות
2. קובץ משאבים וקישורים
3. מדריך למשתמש קצה
4. משהו אחר?
