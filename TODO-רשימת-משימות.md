# TODO List - פלטפורמה לצווי ירושה

## ✅ = הושלם | 🔄 = בתהליך | ⏳ = ממתין | ❌ = נדחה

---

## Phase 1: תשתית בסיסית (יום 1)

### הקמת פרויקט
- [ ] יצירת פרויקט Next.js עם TypeScript
- [ ] התקנת כל החבילות הנדרשות
- [ ] הגדרת Tailwind CSS עם RTL
- [ ] הורדת והטמעת פונט Heebo
- [ ] יצירת מבנה תיקיות

### מסד נתונים
- [ ] התקנת Prisma
- [ ] הגדרת PostgreSQL (לוקלי או Supabase)
- [ ] יצירת Prisma Schema
- [ ] הרצת Migration ראשון
- [ ] בדיקת חיבור למסד נתונים

### Authentication
- [ ] התקנת NextAuth.js
- [ ] הגדרת Credentials Provider
- [ ] יצירת דף Login
- [ ] יצירת דף Register
- [ ] הגדרת session management
- [ ] הגנה על routes עם middleware

---

## Phase 2: טפסים ו-Validation (ימים 2-3)

### Types & Schemas
- [ ] יצירת types לצו ירושה (`tzo-yerusha.ts`)
- [ ] יצירת types לצו קיום צוואה (`tzo-kiyum.ts`)
- [ ] יצירת Zod schemas לוולידציה
- [ ] פונקציית אימות תעודת זהות (לוהן)
- [ ] פונקציות עזר לפורמט תאריכים
- [ ] בדיקות unit tests לוולידציה

### קומפוננטות UI בסיסיות
- [ ] Input component
- [ ] Select component
- [ ] Checkbox component
- [ ] Radio component
- [ ] DatePicker component
- [ ] FileUpload component
- [ ] Button component
- [ ] Card component
- [ ] Alert/Toast component
- [ ] Modal/Dialog component
- [ ] Progress Bar component
- [ ] Table component

### טופס צו ירושה - שלב 1: המבקש והמנוח
- [ ] קומפוננטת ApplicantForm
  - [ ] שם מלא
  - [ ] תעודת זהות (עם ולידציה)
  - [ ] כתובת מלאה
  - [ ] אימייל
  - [ ] טלפון
  - [ ] קרבה למנוח
  - [ ] האם מיוצג בעו"ד
  - [ ] פרטי עו"ד (conditional)
- [ ] קומפוננטת DeceasedForm
  - [ ] שם המנוח
  - [ ] תעודת זהות
  - [ ] כתובת מגורים אחרונה
  - [ ] תאריך פטירה
  - [ ] מקום פטירה
  - [ ] מצב משפחתי
  - [ ] העלאת תעודת פטירה

### טופס צו ירושה - שלב 2: משפחה ויורשים
- [ ] קומפוננטת SpouseForm
  - [ ] פרטים בסיסיים
  - [ ] האם חי/נפטר
  - [ ] זכויות מיוחדות (מכונית)
  - [ ] זכויות מיוחדות (דירה)
  - [ ] תאריך נישואין
- [ ] קומפוננטת ChildrenList
  - [ ] רשימה דינמית של ילדים
  - [ ] כפתור הוספת ילד
  - [ ] כפתור מחיקת ילד
  - [ ] פרטי כל ילד
- [ ] קומפוננטת ParentsForm
  - [ ] פרטי אב
  - [ ] פרטי אם
  - [ ] צאצאיהם (אם נפטרו)
- [ ] קומפוננטת SiblingsList
  - [ ] רשימה דינמית של אחים
  - [ ] הוספה/מחיקה

### טופס צו ירושה - שלב 3: שינויים
- [ ] קומפוננטת WaiversList
  - [ ] רשימת הסתלקויות
  - [ ] פרטי הסתלקות
  - [ ] לטובת מי
- [ ] קומפוננטת DeceasedHeirsList
  - [ ] יורשים שנפטרו אחרי המנוח
  - [ ] יורשיהם

### טופס צו ירושה - שלב 4: חלוקה סופית
- [ ] קומפוננטת FinalHeirsTable
  - [ ] טבלה של יורשים סופיים
  - [ ] חישוב אוטומטי של חלקים
  - [ ] אפשרות לעריכה ידנית
  - [ ] ולידציה שהסכום הוא 100%
- [ ] קומפוננטת SharesCalculator
  - [ ] חישוב אוטומטי לפי חוק
  - [ ] הצגת הסבר לחישוב
  - [ ] התראות על טעויות

### טופס צו ירושה - שלב 5: מסמכים
- [ ] קומפוננטת DocumentsUpload
  - [ ] העלאת תעודת פטירה
  - [ ] העלאת אישור תשלום
  - [ ] העלאת אישור משלוח הודעות
  - [ ] מסמכים נוספים
- [ ] מערכת drag & drop
- [ ] תצוגה מקדימה של קבצים
- [ ] מחיקת קבצים

### טופס צו ירושה - שלב 6: הודעות
- [ ] יצירת הודעות אוטומטית (טופס 3א)
- [ ] רשימת יורשים שצריך לשלוח להם
- [ ] הורדת הודעות כ-PDF
- [ ] הדרכה לשליחה בדואר רשום
- [ ] אישור ששלח הודעות

### טופס צו ירושה - שלב 7: תשלום
- [ ] הצגת סכומי אגרות
  - [ ] אגרת בקשה
  - [ ] אגרת פרסום
  - [ ] סה"כ
- [ ] קישור לתשלום ממשלתי
- [ ] העלאת אישור תשלום
- [ ] ולידציה שהתשלום בוצע

### טופס צו ירושה - שלב 8: סקירה וחתימה
- [ ] תצוגת הבקשה המלאה
- [ ] הורדת PDF לחתימה
- [ ] הדרכה לחתימה בפני עו"ד
- [ ] העלאת הטופס החתום

### טופס צו ירושה - שלב 9: הגשה
- [ ] בחירה: מקוונת/ידנית
- [ ] הגשה דרך המערכת (אם מקוונת)
- [ ] הורדת כל המסמכים (אם ידנית)
- [ ] הצגת אישור הגשה
- [ ] קבלת מספר תיק

---

## Phase 3: צו ירושה - טפסים מלאים (ימים 4-6)

### טופס צו ירושה - שלב 1: המבקש והמנוח
- [ ] העתקת מבנה מצו ירושה
- [ ] התאמות ספציפיות לצו קיום צוואה
- [ ] טופס פרטי צוואה
  - [ ] סוג צוואה
  - [ ] תאריך עריכה
  - [ ] מקום עריכה
  - [ ] העלאת צוואה
- [ ] טופס זוכים על פי צוואה
- [ ] טופס יורשים שלא זוכים
- [ ] הודעות לזוכים (טופס 3)
- [ ] הודעות ליורשים (טופס 3א)
- [ ] ולידציה ספציפית לצוואות

---

## Phase 4: יצירת PDF (שבוע 7-8)

### מערכת PDF
- [ ] התקנת react-pdf/renderer
- [ ] הורדת פונטים עבריים
- [ ] רישום פונטים ב-PDF
- [ ] תבנית PDF לצו ירושה
  - [ ] דף שער
  - [ ] חלק א': המבקש והמוריש
  - [ ] חלק ב': משפחה
  - [ ] חלק ג': שינויים
  - [ ] חלק ד': חלוקה סופית
  - [ ] חלק ה': מסמכים
  - [ ] תצהיר
  - [ ] אישור מקבל תצהיר
- [ ] תבנית PDF לצו קיום צוואה
- [ ] תבנית PDF להודעות (טופס 3)
- [ ] תבנית PDF להודעות (טופס 3א)
- [ ] פונקציית יצוא PDF
- [ ] תצוגה מקדימה של PDF
- [ ] הורדת PDF

### עיצוב PDF
- [ ] סגנון מדויק כמו טפסים רשמיים
- [ ] טבלאות מעוצבות
- [ ] מספור עמודים
- [ ] כותרות עליונות ותחתונות
- [ ] שמירה על מבנה הטופס הרשמי

---

## Phase 5: העלאת קבצים ואחסון (שבוע 9)

### מערכת קבצים
- [ ] בחירת שירות אחסון (S3/R2/Supabase Storage)
- [ ] הגדרת bucket
- [ ] API route להעלאת קבץ
- [ ] הגבלת סוגי קבצים
- [ ] הגבלת גודל קבצים (max 10MB)
- [ ] סריקת וירוסים (אופציונלי)
- [ ] דחיסת תמונות
- [ ] שמירת metadata בDB
- [ ] מחיקת קבצים
- [ ] הורדת קבצים

---

## Phase 6: Dashboard וניהול (שבוע 10-11)

### Dashboard משתמש
- [ ] עיצוב Dashboard
- [ ] רשימת כל הבקשות
  - [ ] טבלה עם מיון וסינון
  - [ ] סטטוס כל בקשה
  - [ ] תאריך יצירה/עדכון
  - [ ] כפתורי פעולה
- [ ] תצוגת בקשה בודדת
  - [ ] כל הפרטים
  - [ ] מסמכים מצורפים
  - [ ] היסטוריית שינויים
- [ ] עריכת בקשה קיימת
- [ ] שכפול בקשה
- [ ] מחיקת בקשה
- [ ] ייצוא נתונים

### סטטיסטיקות
- [ ] מספר בקשות סה"כ
- [ ] בקשות פעילות
- [ ] בקשות שהוגשו
- [ ] בקשות שאושרו
- [ ] גרפים ומצגות נתונים

---

## Phase 7: API Routes (שבוע 12)

### Requests API
- [ ] `POST /api/requests` - יצירת בקשה חדשה
- [ ] `GET /api/requests` - רשימת בקשות
- [ ] `GET /api/requests/[id]` - בקשה ספציפית
- [ ] `PUT /api/requests/[id]` - עדכון בקשה
- [ ] `DELETE /api/requests/[id]` - מחיקת בקשה
- [ ] `POST /api/requests/[id]/submit` - הגשת בקשה
- [ ] `GET /api/requests/[id]/pdf` - יצירת PDF

### Documents API
- [ ] `POST /api/documents/upload` - העלאת מסמך
- [ ] `GET /api/documents/[id]` - הורדת מסמך
- [ ] `DELETE /api/documents/[id]` - מחיקת מסמך

### Calculations API
- [ ] `POST /api/calculate-shares` - חישוב חלקים
- [ ] `POST /api/validate-id` - אימות תעודת זהות

### Notifications API
- [ ] `POST /api/notifications/generate` - יצירת הודעות

---

## Phase 8: אבטחה ו-Performance (שבוע 13)

### אבטחה
- [ ] Rate limiting על API routes
- [ ] CSRF protection
- [ ] XSS protection
- [ ] SQL injection prevention (Prisma מטפל בזה)
- [ ] הצפנת נתונים רגישים
- [ ] הרשאות משתמשים
- [ ] audit logs
- [ ] מדיניות גיבויים

### Performance
- [ ] Server-side caching
- [ ] Client-side caching
- [ ] Image optimization
- [ ] Code splitting
- [ ] Lazy loading
- [ ] Bundle size optimization
- [ ] Database indexing
- [ ] API response compression

---

## Phase 9: בדיקות (שבוע 14)

### Unit Tests
- [ ] בדיקות לפונקציות ולידציה
- [ ] בדיקות לחישובי חלקים
- [ ] בדיקות לפורמטים
- [ ] בדיקות למערכת PDF
- [ ] כיסוי של לפחות 80%

### Integration Tests
- [ ] בדיקות API routes
- [ ] בדיקות flow מלא של בקשה
- [ ] בדיקות העלאת קבצים
- [ ] בדיקות authentication

### E2E Tests
- [ ] מילוי טופס מלא
- [ ] יצירת PDF
- [ ] הגשת בקשה
- [ ] עריכת בקשה
- [ ] מחיקת בקשה

---

## Phase 10: תיעוד ו-Deploy (שבוע 15)

### תיעוד
- [ ] README מקיף
- [ ] הוראות התקנה
- [ ] מדריך למפתחים
- [ ] מדריך למשתמשים
- [ ] API documentation
- [ ] הערות קוד
- [ ] דוגמאות שימוש

### Deployment
- [ ] הגדרת production environment
- [ ] הגדרת database production
- [ ] הגדרת storage production
- [ ] CI/CD pipeline
- [ ] הגדרת domain
- [ ] SSL certificates
- [ ] Environment variables
- [ ] Monitoring והתראות
- [ ] Backup strategy

### Vercel Deployment
- [ ] חיבור לGitHub
- [ ] הגדרת project ב-Vercel
- [ ] הגדרת environment variables
- [ ] הגדרת custom domain
- [ ] בדיקות production

---

## Phase 11: שיפורים ותכונות נוספות (שבוע 16+)

### תכונות נוספות
- [ ] שמירה אוטומטית בזמן אמת
- [ ] גרסאות (versioning) של בקשות
- [ ] שיתוף בקשה עם משתמשים נוספים
- [ ] הערות ותגובות על בקשות
- [ ] תזכורות ו-reminders
- [ ] שליחת אימיילים אוטומטיים
- [ ] SMS notifications
- [ ] אינטגרציה עם מערכת הרשם
- [ ] תשלומים מקוונים
- [ ] מערכת tickets לתמיכה

### Admin Panel
- [ ] דף ניהול לאדמין
- [ ] רשימת כל המשתמשים
- [ ] רשימת כל הבקשות במערכת
- [ ] סטטיסטיקות מתקדמות
- [ ] ניהול תוכן
- [ ] ניהול הרשאות
- [ ] logs וניטור

### נגישות
- [ ] תמיכה בקוראי מסך
- [ ] ניווט במקלדת
- [ ] ניגודיות גבוהה
- [ ] גודל גופן מתכוונן
- [ ] תרגום לשפות נוספות (ערבית, רוסית)

### Mobile App (אופציונלי)
- [ ] React Native app
- [ ] אפליקציה לAndroid
- [ ] אפליקציה לiOS
- [ ] Offline support
- [ ] Push notifications

---

## Maintenance & Support

### Ongoing Tasks
- [ ] מעקב אחר bugs
- [ ] טיפול בבעיות משתמשים
- [ ] עדכוני אבטחה
- [ ] עדכוני dependencies
- [ ] עדכון לפי שינויים בחוק
- [ ] הוספת תכונות חדשות לפי feedback
- [ ] ניתוח נתונים והתנהגות משתמשים

---

## הערות חשובות

### עדיפויות
1. **Must Have** (חובה) - תכונות בסיסיות שבלעדיהן המערכת לא עובדת
2. **Should Have** (רצוי) - תכונות חשובות שמשפרות חוויה
3. **Nice to Have** (נחמד שיהיה) - תכונות שמוסיפות ערך אבל לא קריטיות

### Timeline מוערך
- **MVP (Minimum Viable Product)**: 2 שבועות (10 ימי עבודה)
- **Version 1.0 מלאה**: 3 שבועות (15 ימי עבודה)
- **תכונות מתקדמות**: 4-5 שבועות

### Resources נדרשים
- מפתח Full Stack: 1 אדם
- Designer UI/UX: 0.5 אדם (אופציונלי)
- עו"ד לייעוץ משפטי: לפי הצורך
- Tester/QA: 0.5 אדם (אופציונלי)

### Budget משוער (חודשי)
- Vercel Pro: $20
- Database (Supabase/Railway): $25-50
- Storage (R2/S3): $5-20
- Domain: $15/year
- אימיילים (SendGrid/Resend): $15-30
- Monitoring (Sentry): $26
- **סה"כ**: ~$100-150/חודש

---

## סיכום

הפרויקט מחולק ל-11 phases עיקריים, כל phase מכיל משימות ברורות וניתנות למדידה.

התחל ב-Phase 1 ובנה בהדרגה, אל תנסה לעשות הכל בבת אחת!

בהצלחה! 🚀
